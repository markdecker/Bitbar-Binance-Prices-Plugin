#!/bin/bash

# <bitbar.title>Binance Prices</bitbar.title>
# <bitbar.version>v1.0</bitbar.version>
# <bitbar.author>Mark Decker</bitbar.author>
# <bitbar.author.github>markdecker</bitbar.author.github>
# <bitbar.desc>Displays Binance buy prices of Ethereum, NEO, Cardano, and Tron.</bitbar.desc>
# <bitbar.image> </bitbar.image>
# <bitbar.dependencies>bash, python</bitbar.dependencies>
#
# Based on Cryptocurrency Prices plugin by viiraj (github.com/viiraj).
# And Based on CoinBase Prices plugin by mustafaturksavas (github.com/mustafaturksavas).
#
# I hope this plugin provides value for you and if you feel like it, tips are always appreciated.
# Bitcoin: 1NXwVQEh86tUWgmuGWNjm9pVt88Zw9WRHt
# Ethereum: 0x85047996Ec519F06B1a7e861329423271132C2bC

neo_icon="iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAcAAAAHAF4BokZAAAAyUlEQVQ4y+3U0Q2CMBDG8T/Ed3UCcRNGwA06gm6Am+gGjoAb6AZ1A53g88E2aRCOoDwZL7lA07tfUlIOSVgJLAAHNIDCs+qtN6AKOAWkKz3gTDAgB+BuQCYcoRK4jEC6spZEzitKoOCzeKSLPHmfJwW3dmEfkPS9gWnBKmm+AjtgDZzbQDtmxl5s3EpqALIsGzx/zsTxB38AdMA+XPzvQUleUi2pADbAcbIjSzpJcsAy/Ek+bsQhWveMrXJoCJsDNnwnPxnYAY8Cn2Z9NmB9BHBWAAAAAElFTkSuQmCC"
eth_icon='iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC/UlEQVRYw+WYX6gMcRTH997158GD/7Z7mzm/8/vN7KZNN1ohL+vBG+GmyN8Hrrh0S3nQxQPPIg9S8i9SJEUePVGKuOF6Q0qkkD9JQv6M7xmzzO6dXcvO7JJbp+bOTr/zmXO+55zfb1Ke56X+Jkv980D1/GnS8zXRPFy21/N8okDGmEnG5luOUjsN8/qWAznERx2bHgqQo/jl5M7O8S0DcpWaBYivISDPKHWoVUDtABgQiDCQAGaZZzYdCJHYEABUAokN1BJ47ECiE9FLDSBPK9XbNCA4Oxh2HgUEe5XryE1IHMjYZjqcfakDCPf5SNJAbYbo2lDHVYAgcKnExIBcorURTmsBedrmm5UCjwWIiMZiPDyPdEp8Drpajut3kcBEm2IHMor3l785fQTEcehkAaLTD1ukLLUM9/phjyu09Np13YmxAWWVmoqFPwfpeSrpQbQWoxdd8AUeThnR3Sxxn8O8GjPu6s8o8bG4gNqw4BV/gGrdA0frAHD7lxpCVAC8G88vBMwpiShgZzcMlCPSkg7YLjh+9ruilsgC7IxjYQ3mpQ0DyRvi7T5UcVYPUNhOgifdsIZc5iLCPfinQBD5W6R8az6fH9F4hBzHDrSYRpPbWDbD6miMSNcJtIwOf+8UrNUQkCyGijoPmGmymGVZ4yDSAz+qriqQulHq0thVjsb/+1zSK2Mpe7xlt5S3DNXSwNRad2GMXBoCBOHjuTVSnWJyHRTD2bgb4+HSFEeE+iSFfhpsXgKwywDaZoj3SDT83oVNGu5d/76L5CcS2ViBujKZUXBwL5SSO7A58lsxVRwmFkQuI03Q39oGOsKpZG4iwxXOZiAFn8JakR6DqFChUBgOwC1oEW/Kfifem+x+iHhHRFnfB8z2iKE6iBk2MukdY1pGSR2j472xzJSmbGGVUlyWmgggpHJzU08dEO6q6kDqYlD2zT0oomGergTSil+UOnPTgZC6MYB6VHFy7W7t2R69CFF54H9sQPNs+ceG4JzWi0itkOaZONB/9wXtG+MF7xgwhWr8AAAAAElFTkSuQmCC'
trx_icon='iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTAxLTAzVDEwOjEwOjUzLTA2OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wMS0wM1QxMDoxNTozNi0wNjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wMS0wM1QxMDoxNTozNi0wNjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkOTg0NDVlNy03OGZiLTQ0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'
ada_icon='iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTAxLTAzVDExOjAwOjA4LTA2OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wMS0wM1QxMTowOTozNy0wNjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wMS0wM1QxMTowOTozNy0wNjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5Nzc0ZTQyOC00Mjg1LTQxODctYjkzMy02MzNlZGI3M2ZhOGYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTc3NGU0MjgtNDI4NS00MTg3LWI5MzMtNjMzZWRiNzNmYThmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OTc3NGU0MjgtNDI4NS00MTg3LWI5MzMtNjMzZWRiNzNmYThmIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Nzc0ZTQyOC00Mjg1LTQxODctYjkzMy02MzNlZGI3M2ZhOGYiIHN0RXZ0OndoZW49IjIwMTgtMDEtMDNUMTE6MDA6MDgtMDY6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4O9SsaAAAF20lEQVQ4jTXBX2gb9x0A8O/vdKfT+XTSSYrPsiNZim2pxLKCjGPWmloKNXObQdqEELJsD3koyyiFzi/tILRso0npnkZLaUshEDrGCBh3ZA6pEzvp8mdNHEUJjq0g2ca2JEuy7mxLd9LpTvdHe9rngy5fvgwYhgFCCAzDAEmSehBCBwRBWFIUBRKJBBAE8Wm73UZra2sfT09PQyQSgXPnzg2vr6/zmqYVCIKA/8MJggCSJAHHcWg0GoAQeoUgiBFFUZZUVYVKpQIej8fBcRzieR54nod6vQ75fH5CVdUUy7IFm80GCCFot9uAud1uaDQawPM84DgOpmmum6Z51+FwAE3TMDMzA16v9w/xePyDnZ0diMVi4HK5IJfLzQPAKkIInj59CouLi5BMJgHHcRyy2SxIkgQdHR1A03SOJEmKYZhFn8/3biAQeGG32weXlpZgbGwsbZrmkCRJ3+/v7/82n8/nFxYWYGVlBQiCAJqmAdd1HU6cOIEePHhADg4Oqslksq3ruunz+R6JoljO5/Nw/fr166Zpkqqq+gcGBgp+v/+eruv68vIymKaJnTp1imq1Ws3nz5+bGEVRkEgker1e7/yRI0f6fT4fcBy3urOz8wHDMLzT6Ry02Wy/o2n6PMMwEZIkq6qqTlEUtRqNRuHQoUP+YDA4FwqFDqmqCpZ0Og3d3d36+Pj42tTUVObFixe/GB0dPRcKhVbS6fRXmqZ9g+P4TwBANZvNW4qihKPR6N2NjY2POjs7iWazmWk2m2kcx7O5XE6zHD58GK5evaphGLZBUVSro6PjPMuyf3S5XF9UKpX3BEHopygKMwxjQBTFIzRNy263+x+FQuHvxWKRZ1n2liRJueXlZa23txcsZ8+eBYQQoigKrly5Alar9Um5XP5ua2trmKIolSCI1ZGRkT8ZhvGjruskwzDJbDaLwuHwJ6FQaGFyclJ/+PAh8DyPOI4Dy8TExPvDw8OLhmH8maKotxqNxo+PHz9+R1GUf8my/Jrf73/barUWFEURMQz7uVKpzDQajXdVVc0GAoHFZrP5WaFQ+FUsFpvDcfz3uCAIaHt7G2RZtvE8T7rdbqBpGkmSBCRJou3tbdTV1QVOpxMEQYB2u21omgatVstkGAZ6enpaoigiURTBbrcblsHBwcXZ2VnU19c3PzY2NpdMJq02m61gt9vvMAyTrdVqb0cikVVBEOhyufyXnp6emwcOHPh8aGjofrlcNgmCmL9///7C7du3USgUSlkCgQBYrVYYGRmBly9fwt7e3ocIoX+6XK4Pd3d3P2o2m78ulUq9tVrtjXq9fp4kSUcikfgslUplbt68yUxPTy9cvHgRGIaBe/fuATY/Pw8DAwMUx3GvYxhmFwThZ4TQl3t7e8g0zU2Hw2FYLJYfLBbLD06nU6vX66tzc3OIYZi/ulyuedM0qaGhoYkzZ8440uk0WCKRCHR1dXk9Hs+3k5OTP924ceNpZ2fnf/r7+xWSJP9dqVRmbDabgWFYTZblv/X19X1rsVhUVVX/e/z48Q2O47x37tz5OhQK3U2lUgIeDodhc3NzO5/PvylJUrO7uxsIggjquj5lGMbnGIYty7KcRwjJ7Xb7FYIgWJIkPy2VSt88e/Ysfe3atW1RFCcYhlFxHAdM13VotVrtzc3NxuzsrOn1ekHTNLxUKh0TRdFvt9vh5MmTb50+ffodDMMgk8lwmUzmVZIk8VKpBLFYrF2r1ZRLly61FUUBlEgkoNFogCiKEAwGYXx8vLvVanWTJJl69OgRJJNJ2NraAqvVCseOHYNqtQrhcBji8fjI7u5ulWXZ9ZWVFcjlcuDxeMBy4cIFiEajMDo6CgcPHgRRFKNer/eNdDr9sFgsQjweh2q1+lWxWPwlRVFzhmEAx3FAUdRvWq2WybLsWjAYhKNHj0IwGAS8v78fEEJgtVqhXC6DLMsbvb296pMnT4AkSYjFYrC+vl4zDEPf398HWZaBZVnQdf0WhmFVmqbBMAzQNA0AAP4HFhrTuWZZ188AAAAASUVORK5CYII='

trx_price=$(curl -s https://api.binance.com/api/v1/ticker/price?symbol=TRXETH | python -c "import sys, json; print json.load(sys.stdin)['price']")

ada_price=$(curl -s https://api.binance.com/api/v1/ticker/price?symbol=ADAETH | python -c "import sys, json; print json.load(sys.stdin)['price']")

neo_price=$(curl -s https://api.binance.com/api/v1/ticker/price?symbol=NEOETH | python -c "import sys, json; print json.load(sys.stdin)['price']")

eth_price=$(curl -s https://api.binance.com/api/v1/ticker/price?symbol=ETHUSDT | python -c "import sys, json; print json.load(sys.stdin)['price']")


echo "$trx_price | templateImage=$trx_icon"
echo "$ada_price | templateImage=$ada_icon"
echo "$neo_price | templateImage=$neo_icon"
echo "$eth_price | templateImage=$eth_icon"